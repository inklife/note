webpackJsonp([1],{"+v1U":function(t,e){},"9noW":function(t,e){},"9v1A":function(t,e){e.dateFtt=function(t,e){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}},Mu4M:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("iDdd"),a=n.n(o),i=n("VCXJ"),s=n("9rMa"),r={name:"App",methods:Object(s.b)(["saveNoteTmp"]),created:function(){var t=window.localStorage.getItem("noteTmp");null!==t&&this.saveNoteTmp(t)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=n("Z0/y")(r,c,!1,function(t){n("yViW")},null,null).exports,d=n("zO6J"),u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"note-item",on:{click:this.nav}},[this._v("\n  "+this._s(this.noteData)+"\n")])},staticRenderFns:[]};var v={data:function(){return{msg:"Welcome to Your Vue.js App",notelist:[]}},methods:{newNote:function(){this.$router.push("/new")},test:function(){this.$dialog.toast({mes:window.navigator.userAgent,timeout:3e3})}},components:{"note-item":n("Z0/y")({props:["noteData","noteId"],methods:{nav:function(){this.$router.push("/check/"+this.noteId)}}},u,!1,function(t){n("Uews")},"data-v-6c418507",null).exports},created:function(){var t=window.localStorage.getItem("notelist");if(null!==t)for(var e=t.split(/\s+/),n=e.length-1;n>=0;n--){var o=e[n];o.length&&this.notelist.push({noteId:o,data:JSON.parse(window.localStorage.getItem(o))})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullpage"},[n("yd-navbar",{attrs:{title:"我的备忘录"}},[n("a",{attrs:{slot:"left"},slot:"left"},[n("yd-icon",{attrs:{name:"type"},nativeOn:{click:function(e){t.test(e)}}})],1)]),t._v(" "),n("div",{staticClass:"downpage"},[t._l(t.notelist,function(t){return n("note-item",{key:t.noteId,attrs:{noteData:t.data.content,noteId:t.noteId}})}),t._v(" "),t.notelist.length?t._e():n("div",{staticClass:"zero"},[t._v("\n      (￣△￣；) 还没有备忘呢，赶快点击小红笔'记下一个吧\n    ")])],2),t._v(" "),n("div",{staticClass:"newnote",on:{click:t.newNote}},[n("yd-icon",{attrs:{name:"compose"}})],1)],1)},staticRenderFns:[]};var f=n("Z0/y")(v,m,!1,function(t){n("Mu4M")},"data-v-7ee27b70",null).exports,h=n("3cXf"),p=n.n(h),g=n("4YfN"),w=n.n(g),y=n("9v1A"),_={data:function(){return{datetime:"",newNote:"",hasSave:!1,noteId:""}},computed:Object(s.c)(["noteTmp"]),methods:w()({back:function(){this.$router.go(-1)},save:function(t){if(!window.localStorage.getItem(this.noteId)){var e=window.localStorage.getItem("notelist")||"";window.localStorage.setItem("notelist",e+" "+this.noteId)}window.localStorage.setItem(this.noteId,p()({datetime:this.datetime,content:this.newNote})),this.hasSave=!0,this.saveNoteTmp(""),t&&this.$dialog.toast({mes:"已保存",timeout:1e3})}},Object(s.b)(["saveNoteTmp"])),created:function(){this.datetime=Object(y.dateFtt)("yyyy-MM-dd hh:mm",new Date),this.noteId=Date.now().toString()+Math.random().toString().slice(-6)},mounted:function(){var t=this,e=this.noteTmp;e.length&&(this.saveNoteTmp(""),this.$dialog.confirm({mes:"检测到您上次有未保存的内容，是否需要恢复？",opts:function(){t.newNote=e}}))},beforeRouteLeave:function(t,e,n){this.newNote.length&&!this.hasSave&&(this.saveNoteTmp(this.newNote),window.confirm("您已输入了一些内容，是否需要保存？")&&this.save());n()}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullpage"},[n("yd-navbar",{attrs:{title:"新建备忘"}},[n("a",{attrs:{slot:"left"},slot:"left"},[n("yd-navbar-back-icon",{nativeOn:{click:function(e){t.back(e)}}},[t._v("返回")])],1),t._v(" "),n("div",{staticStyle:{"user-select":"none"},attrs:{slot:"right"},slot:"right"},[n("a",{on:{click:function(e){t.save(!0)}}},[t._v("保存")]),t._v("  ")])]),t._v(" "),n("div",{staticClass:"downpage"},[n("div",{staticClass:"newnote"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newNote,expression:"newNote"}],attrs:{placeholder:" (*/ω＼*) 还没有东西呢"},domProps:{value:t.newNote},on:{focus:function(e){t.hasSave=!1},input:function(e){e.target.composing||(t.newNote=e.target.value)}}})]),t._v(" "),n("yd-cell-group",[n("yd-cell-item",{attrs:{arrow:""}},[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("时间：")]),t._v(" "),n("yd-datetime",{ref:"datetime",attrs:{slot:"right"},slot:"right",model:{value:t.datetime,callback:function(e){t.datetime=e},expression:"datetime"}})],1)],1)],1)],1)},staticRenderFns:[]};var I=n("Z0/y")(_,N,!1,function(t){n("+v1U")},"data-v-2d1370e0",null).exports,b={data:function(){return{isEditting:!1,content:"",datetime:""}},methods:{back:function(){this.$router.go(-1)},modifyOrSave:function(){this.isEditting=!this.isEditting,this.isEditting?this.setCaretPosition(document.getElementById("showNote"),this.content.length):(window.localStorage.setItem(this.noteId,p()({content:this.content,datetime:this.datetime})),this.$dialog.toast({mes:"保存成功",timeout:1e3}))},deleteNote:function(){var t=this;this.$dialog.confirm({mes:"真的要删除这条备忘吗？",opts:function(){var e=window.localStorage.getItem("notelist");e&&window.localStorage.setItem("notelist",e.replace(" "+t.noteId,"")),t.$router.go(-1)}})},setCaretPosition:function(t,e){if(t.setSelectionRange)setTimeout(function(){t.setSelectionRange(e,e),t.focus()},0);else if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}}},computed:{noteId:function(){return this.$route.params.NoteId}},created:function(){var t=window.localStorage.getItem(this.noteId);if(null!==t)try{var e=JSON.parse(t);this.content=e.content,this.datetime=e.datetime}catch(t){}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullpage"},[n("yd-navbar",{attrs:{title:"查看备忘"}},[n("a",{attrs:{slot:"left"},slot:"left"},[n("yd-navbar-back-icon",{nativeOn:{click:function(e){t.back(e)}}},[t._v("返回")])],1),t._v(" "),n("div",{staticStyle:{"user-select":"none"},attrs:{slot:"right"},slot:"right"},[n("a",{on:{click:t.modifyOrSave}},[t._v(t._s(t.isEditting?"保存":"编辑"))]),t._v("  ")])]),t._v(" "),n("div",{staticClass:"downpage"},[n("div",{staticClass:"shownote"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"showNote",readonly:!t.isEditting,placeholder:" o(*￣▽￣*)ブ 这里是空的"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),n("yd-cell-group",[n("yd-cell-item",{attrs:{arrow:""}},[n("span",{attrs:{slot:"left"},slot:"left"},[t._v("时间：")]),t._v(" "),n("yd-datetime",{ref:"datetime",attrs:{slot:"right"},slot:"right",model:{value:t.datetime,callback:function(e){t.datetime=e},expression:"datetime"}})],1)],1),t._v(" "),n("yd-button-group",[n("yd-button",{attrs:{size:"large",type:"danger"},nativeOn:{click:function(e){t.deleteNote(e)}}},[t._v("删除备忘")])],1)],1)],1)},staticRenderFns:[]};var $=n("Z0/y")(b,S,!1,function(t){n("qepa")},"data-v-8f78b3cc",null).exports;i.default.use(d.a);var k=new d.a({routes:[{path:"/",component:f},{path:"/new",component:I},{path:"/check/:NoteId",component:$}]});i.default.use(s.a);var x=new s.a.Store({state:{noteTmp:""},mutations:{saveNoteTmp:function(t,e){window.localStorage.setItem("noteTmp",e),t.noteTmp=e}}}),E=n("Yt3O"),T=n.n(E),C=(n("9noW"),n("Jdrw"));document.addEventListener("DOMContentLoaded",function(){a.a.attach(document.body)},!1),i.default.use(T.a),i.default.prototype.$dialog={confirm:C.Confirm,alert:C.Alert,toast:C.Toast,notify:C.Notify,loading:C.Loading},i.default.config.productionTip=!1,new i.default({el:"#app",router:k,store:x,components:{App:l},template:"<App/>"})},Uews:function(t,e){},qepa:function(t,e){},yViW:function(t,e){}},["NHnr"]);